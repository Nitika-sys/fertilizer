<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .search-section {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            margin-bottom: 30px;
            text-align: center;
        }

        .search-section h1 {
            color: white;
            margin-bottom: 20px;
            font-size: 2.5rem;
        }

        .search-box {
            position: relative;
            max-width: 500px;
            margin: 0 auto;
        }

        .search-input {
            width: 100%;
            padding: 15px 20px;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            background: rgba(255, 255, 255, 0.9);
            transition: all 0.3s ease;
            padding-right: 50px;
        }

        .search-input:focus {
            outline: none;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
            background: white;
        }

        .search-button {
            position: absolute;
            right: 5px;
            top: 50%;
            transform: translateY(-50%);
            background: #2a5298;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .search-button:hover {
            background: #1e3c72;
        }

        .weather-dashboard {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
        }

        .current-weather {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .weather-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .location {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .date {
            color: #666;
            font-size: 1.1rem;
        }

        .weather-info {
            text-align: center;
        }

        .temperature {
            font-size: 4rem;
            font-weight: 600;
            margin: 20px 0;
        }

        .weather-description {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 20px;
            text-transform: capitalize;
        }

        .weather-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 30px;
        }

        .detail-item {
            text-align: center;
            padding: 15px;
            background: rgba(42, 82, 152, 0.1);
            border-radius: 15px;
        }

        .detail-label {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 5px;
        }

        .detail-value {
            font-size: 1.2rem;
            font-weight: 600;
        }

        .forecast {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .forecast-title {
            margin-bottom: 20px;
            font-size: 1.5rem;
            color: #333;
        }

        .forecast-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
        }

        .forecast-card {
            background: rgba(42, 82, 152, 0.1);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .forecast-card:hover {
            transform: translateY(-5px);
        }

        .forecast-day {
            font-weight: 600;
            margin-bottom: 10px;
        }

        .forecast-icon {
            font-size: 2rem;
            margin: 10px 0;
            color: #2a5298;
        }

        .forecast-temp {
            font-size: 1.3rem;
            font-weight: 600;
            margin: 10px 0;
        }

        .forecast-description {
            font-size: 0.9rem;
            color: #666;
        }

        @media (max-width: 992px) {
            .weather-dashboard {
                grid-template-columns: 1fr;
            }

            .forecast-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 576px) {
            .forecast-grid {
                grid-template-columns: 1fr;
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        .slide-up {
            animation: slideUp 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from {
                transform: translateY(20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="search-section">
            <h1>Weather Dashboard</h1>
            <div class="search-box">
                <input type="text" id="search-input" placeholder="Enter city name">
                <button id="search-button">Search</button>
            </div>
        </div>
        <div class="weather-dashboard">
            <div class="current-weather">
                <div class="weather-header">
                    <h2>Current Weather</h2>
                </div>
                <div class="location">Loading...</div>
                <div class="date">Loading...</div>
                <div class="weather-info">
                    <div class="temperature">Loading...</div>
                    <div class="weather-description">Loading...</div>
                </div>
                <div class="weather-details">
                    <div class="detail-item">
                        <span class="detail-label">Humidity</span>
                        <span class="detail-value">Loading...</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Wind Speed</span>
                        <span class="detail-value">Loading...</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Pressure</span>
                        <span class="detail-value">Loading...</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Feels Like</span>
                        <span class="detail-value">Loading...</span>
                    </div>
                </div>
            </div>
            <div class="forecast">
                <div class="forecast-title">
                    <h2>Forecast</h2>
                </div>
                <div class="forecast-grid" id="forecast-grid"></div>
            </div>
        </div>
    </div>
    <script>
        const weatherDashboard = document.querySelector('.weather-dashboard');
        const forecastGrid = document.getElementById('forecast-grid');

        // Add your OpenWeatherMap API key here
        const API_KEY = 'YOUR_API_KEY'; // Replace with your actual API key

        // Initialize current date
        document.getElementById('current-date').textContent = new Date().toLocaleDateString('en-US', {
            weekday: 'long',
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        });

        // Function to get weather data
        async function getWeatherData(city) {
            const apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${API_KEY}&units=metric`;
            const forecastUrl = `https://api.openweathermap.org/data/2.5/forecast?q=${city}&appid=${API_KEY}&units=metric`;

            try {
                // Fetch current weather
                const currentWeatherResponse = await fetch(apiUrl);
                if (!currentWeatherResponse.ok) throw new Error('City not found');
                const currentWeatherData = await currentWeatherResponse.json();

                // Fetch forecast
                const forecastResponse = await fetch(forecastUrl);
                if (!forecastResponse.ok) throw new Error('Forecast data not found');
                const forecastData = await forecastResponse.json();

                return { currentWeather: currentWeatherData, forecast: forecastData };

            } catch (error) {
                console.error('Error fetching weather data:', error);
                alert(error.message === 'City not found' ? 'City not found! Please try another city.' : 'Error fetching weather data. Please try again later.');
                return null;
            }
        }

        // Function to update current weather UI
        function updateCurrentWeatherUI(data) {
            document.getElementById('location').textContent = `${data.name}, ${data.sys.country}`;
            document.getElementById('temperature').textContent = `${Math.round(data.main.temp)}°C`;
            document.getElementById('weather-description').textContent = data.weather[0].description;
            document.getElementById('humidity').textContent = `${data.main.humidity}%`;
            document.getElementById('wind-speed').textContent = `${data.wind.speed} m/s`;
            document.getElementById('pressure').textContent = `${data.main.pressure} hPa`;
            document.getElementById('feels-like').textContent = `${Math.round(data.main.feels_like)}°C`;

            // Optional: Update weather icon based on data.weather[0].icon
            // You would need to map OpenWeatherMap icons to Font Awesome icons or use OpenWeatherMap's icon images
        }

        // Function to update forecast UI
        function updateForecastUI(data) {
            forecastGrid.innerHTML = ''; // Clear existing forecast cards

            // OpenWeatherMap forecast provides data in 3-hour intervals. We need to select one entry per day.
            // A simple approach is to take the data around noon for the next 4 days.
            const dailyForecasts = data.list.filter(item => item.dt_txt.includes('12:00:00')).slice(0, 4);

            if (dailyForecasts.length === 0 && data.list.length > 0) {
                 // Fallback: if no 12:00 data, take the first entry of the next 4 days
                const today = new Date().getDate();
                const forecastEntries = data.list.filter(item => new Date(item.dt * 1000).getDate() !== today).slice(0, 4);
                 if(forecastEntries.length > 0) {
                      dailyForecasts.push(...forecastEntries);
                 }
            } else if (dailyForecasts.length === 0) {
                 // If still no daily forecasts after filtering, maybe the forecast is less than 4 days out or structure is unexpected
                 // As a final fallback, take the first 4 entries from the list (excluding today if possible)
                 const today = new Date().getDate();
                 const fallbackForecasts = data.list.filter(item => new Date(item.dt * 1000).getDate() !== today).slice(0, 4);
                  if(fallbackForecasts.length > 0) {
                       dailyForecasts.push(...fallbackForecasts);
                  } else if (data.list.length > 0) { // If all entries are for today or very few entries
                       dailyForecasts.push(...data.list.slice(0,4));
                  }
            }


            dailyForecasts.forEach(dayData => {
                const date = new Date(dayData.dt * 1000);
                const dayOfWeek = date.toLocaleDateString('en-US', { weekday: 'short' });
                const temp = Math.round(dayData.main.temp);
                const description = dayData.weather[0].description;
                // Optional: Map weather icon code (dayData.weather[0].icon) to a Font Awesome class
                // For simplicity, using a generic cloud icon here. You'll need a mapping function for real icons.
                 let iconClass = 'fas fa-cloud forecast-icon';
                 if(description.includes('clear') || description.includes('sunny')) iconClass = 'fas fa-sun forecast-icon';
                 else if (description.includes('rain')) iconClass = 'fas fa-cloud-rain forecast-icon';
                 else if (description.includes('snow')) iconClass = 'fas fa-snowflake forecast-icon';
                 else if (description.includes('thunderstorm')) iconClass = 'fas fa-bolt forecast-icon';
                 else if (description.includes('drizzle')) iconClass = 'fas fa-cloud-showers-heavy forecast-icon';
                 else if (description.includes('mist') || description.includes('fog') || description.includes('haze')) iconClass = 'fas fa-smog forecast-icon';


                const forecastCardHTML = `
                    <div class="forecast-card">
                        <div class="forecast-day">${dayOfWeek}</div>
                        <i class="${iconClass}"></i>
                        <div class="forecast-temp">${temp}°C</div>
                        <div class="forecast-description">${description}</div>
                    </div>
                `;
                forecastGrid.innerHTML += forecastCardHTML;
            });
        }

        // Event listeners
        const searchInput = document.getElementById('search-input');
        const searchButton = document.getElementById('search-button');

        searchButton.addEventListener('click', handleSearch);
        searchInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                handleSearch();
            }
        });

        // Initial load (optional: load weather for a default city)
        // handleSearch('New York'); // Uncomment and provide a default city if desired

        async function handleSearch() {
            const city = searchInput.value.trim();
            if (city) {
                 const weatherData = await getWeatherData(city);
                 if (weatherData) {
                      updateCurrentWeatherUI(weatherData.currentWeather);
                      updateForecastUI(weatherData.forecast);
                 }
            } else {
                 alert('Please enter a city name.');
            }
        }

    </script>
</body>
</html> 
